{% extends "layout.html" %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
        <div class="card bg-dark border-secondary">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fas fa-plug me-2"></i> WizData API Services</h5>
                <div>
                    <span class="badge bg-primary">Version 1.0.0</span>
                </div>
            </div>
            <div class="card-body">
                <p class="lead">
                    WizData offers comprehensive financial data APIs for developers, traders, and financial service providers.
                </p>
            </div>
        </div>
    </div>
</div>

<!-- API Endpoints Section -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card bg-dark border-secondary">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-network-wired me-2"></i> API Endpoints</h5>
            </div>
            <div class="card-body">
                <p>Our RESTful API provides access to comprehensive financial data across multiple asset classes.</p>
                
                <div class="table-responsive">
                    <table class="table table-dark table-hover">
                        <thead>
                            <tr>
                                <th>Endpoint</th>
                                <th>Description</th>
                                <th>Authentication</th>
                                <th>Rate Limit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/api/prices</code></td>
                                <td>Historical and real-time price data (OHLCV) for various financial instruments</td>
                                <td>API Key</td>
                                <td>120/min (free), 1000/min (premium)</td>
                            </tr>
                            <tr>
                                <td><code>/api/news</code></td>
                                <td>Financial news articles with sentiment analysis</td>
                                <td>API Key</td>
                                <td>60/min (free), 500/min (premium)</td>
                            </tr>
                            <tr>
                                <td><code>/api/fundamentals</code></td>
                                <td>Company fundamentals and financial data</td>
                                <td>API Key (Premium)</td>
                                <td>30/min (premium)</td>
                            </tr>
                            <tr>
                                <td><code>/api/dividends</code></td>
                                <td>Dividend data, calendars, and forecasts</td>
                                <td>API Key (Premium)</td>
                                <td>30/min (premium)</td>
                            </tr>
                            <tr>
                                <td><code>/api/indicators</code></td>
                                <td>Technical indicators and signals</td>
                                <td>API Key (Premium)</td>
                                <td>50/min (premium)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Real-time Data Section -->
<div class="row mb-4">
    <div class="col-md-6">
        <div class="card bg-dark border-secondary h-100">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-bolt me-2"></i> Real-time Data (WebSockets)</h5>
            </div>
            <div class="card-body">
                <p>Get real-time updates through our WebSocket interface:</p>
                <ul class="list-group mb-3">
                    <li class="list-group-item bg-dark text-light border-secondary d-flex justify-content-between align-items-center">
                        <div>
                            <strong>Price Streams</strong>
                            <small class="d-block text-muted">Real-time price updates for stocks, crypto, and forex</small>
                        </div>
                        <span class="badge bg-success">Premium</span>
                    </li>
                    <li class="list-group-item bg-dark text-light border-secondary d-flex justify-content-between align-items-center">
                        <div>
                            <strong>Order Book Data</strong>
                            <small class="d-block text-muted">Level 2 market depth for active traders</small>
                        </div>
                        <span class="badge bg-success">Premium</span>
                    </li>
                    <li class="list-group-item bg-dark text-light border-secondary d-flex justify-content-between align-items-center">
                        <div>
                            <strong>News Alerts</strong>
                            <small class="d-block text-muted">Instant financial news and sentiment updates</small>
                        </div>
                        <span class="badge bg-primary">Standard</span>
                    </li>
                </ul>
                <div class="alert alert-secondary">
                    <i class="fas fa-info-circle me-2"></i> WebSocket connections require authentication via API key.
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="card bg-dark border-secondary h-100">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-code me-2"></i> Code Samples</h5>
            </div>
            <div class="card-body">
                <nav>
                    <div class="nav nav-tabs mb-3" id="nav-tab" role="tablist">
                        <button class="nav-link active" id="nav-python-tab" data-bs-toggle="tab" data-bs-target="#nav-python" type="button" role="tab">Python</button>
                        <button class="nav-link" id="nav-javascript-tab" data-bs-toggle="tab" data-bs-target="#nav-javascript" type="button" role="tab">JavaScript</button>
                    </div>
                </nav>
                <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-python" role="tabpanel">
                        <pre class="bg-secondary text-light p-3"><code>import requests

# Set your API key
api_key = "YOUR_API_KEY"

# Get JSE stock data
url = "https://api.wizdata.com/api/prices"
params = {
    "symbol": "SOL.JO",
    "interval": "daily",
    "start_date": "2024-01-01",
    "end_date": "2024-03-31"
}
headers = {"Authorization": f"Bearer {api_key}"}

response = requests.get(url, params=params, headers=headers)
data = response.json()

print(data)
</code></pre>
                    </div>
                    <div class="tab-pane fade" id="nav-javascript" role="tabpanel">
                        <pre class="bg-secondary text-light p-3"><code>// Set your API key
const apiKey = "YOUR_API_KEY";

// Get cryptocurrency data
fetch("https://api.wizdata.com/api/prices?symbol=BTC&interval=hourly&limit=24", {
  headers: {
    "Authorization": `Bearer ${apiKey}`
  }
})
.then(response => response.json())
.then(data => {
  console.log(data);
})
.catch(error => console.error("Error:", error));
</code></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Pricing Section -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card bg-dark border-secondary">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-tags me-2"></i> API Plans & Pricing</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card bg-secondary h-100">
                            <div class="card-header text-center">
                                <h5 class="mb-0">Free</h5>
                            </div>
                            <div class="card-body d-flex flex-column">
                                <h3 class="card-title text-center mb-4">R0/month</h3>
                                <ul class="list-unstyled mb-4">
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Basic price data (EOD only)</li>
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Limited to 500 API calls/day</li>
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Public data access only</li>
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Basic support</li>
                                    <li class="mb-2"><i class="fas fa-times text-danger me-2"></i> No real-time data</li>
                                    <li class="mb-2"><i class="fas fa-times text-danger me-2"></i> No premium endpoints</li>
                                </ul>
                                <button class="btn btn-outline-light mt-auto">Get Started</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card bg-primary text-white h-100">
                            <div class="card-header text-center">
                                <h5 class="mb-0">Standard</h5>
                            </div>
                            <div class="card-body d-flex flex-column">
                                <h3 class="card-title text-center mb-4">R2,500/month</h3>
                                <ul class="list-unstyled mb-4">
                                    <li class="mb-2"><i class="fas fa-check me-2"></i> Full price history (intraday)</li>
                                    <li class="mb-2"><i class="fas fa-check me-2"></i> Up to 10,000 API calls/day</li>
                                    <li class="mb-2"><i class="fas fa-check me-2"></i> News and sentiment data</li>
                                    <li class="mb-2"><i class="fas fa-check me-2"></i> Basic WebSocket access</li>
                                    <li class="mb-2"><i class="fas fa-check me-2"></i> Priority support</li>
                                    <li class="mb-2"><i class="fas fa-times me-2"></i> Limited premium features</li>
                                </ul>
                                <button class="btn btn-light mt-auto">Subscribe</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="card bg-secondary h-100">
                            <div class="card-header text-center">
                                <h5 class="mb-0">Enterprise</h5>
                            </div>
                            <div class="card-body d-flex flex-column">
                                <h3 class="card-title text-center mb-4">R10,000+/month</h3>
                                <ul class="list-unstyled mb-4">
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Full data access (all endpoints)</li>
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Unlimited API calls</li>
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Real-time data streams</li>
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> All premium features</li>
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> White-labeled solutions</li>
                                    <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Dedicated support</li>
                                </ul>
                                <button class="btn btn-outline-light mt-auto">Contact Sales</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Documentation Section -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card bg-dark border-secondary">
            <div class="card-header">
                <h5 class="mb-0"><i class="fas fa-book me-2"></i> API Documentation</h5>
            </div>
            <div class="card-body text-center">
                <p>Find detailed documentation for all endpoints, parameters, and response formats.</p>
                <a href="/api/health" class="btn btn-outline-info me-3">
                    <i class="fas fa-file-alt me-2"></i> API Reference
                </a>
                <a href="#" class="btn btn-outline-info me-3">
                    <i class="fas fa-graduation-cap me-2"></i> Tutorials
                </a>
                <a href="#" class="btn btn-outline-info">
                    <i class="fas fa-code me-2"></i> Code Samples
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Get Started Section -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card bg-primary text-white">
            <div class="card-body text-center">
                <h4 class="card-title">Ready to start building with WizData APIs?</h4>
                <p class="card-text">Sign up today to get your API key and start accessing financial data.</p>
                <button class="btn btn-light">Get Your API Key</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add navigation link for API Services
        const navLinks = document.querySelector('#navbarNav .navbar-nav');
        
        if (navLinks) {
            const apiServicesLink = document.createElement('li');
            apiServicesLink.className = 'nav-item';
            apiServicesLink.innerHTML = '<a class="nav-link" href="/api-services"><i class="fas fa-plug me-1"></i> API Services</a>';
            
            // Insert after Products link
            const productsLink = document.querySelector('a[href="/products"]').parentElement;
            navLinks.insertBefore(apiServicesLink, productsLink.nextSibling);
            
            // Highlight current page
            const currentPath = window.location.pathname;
            const navLink = document.querySelector(`a[href="${currentPath}"]`);
            if (navLink) {
                navLink.classList.add('active');
            }
        }
    });
</script>
{% endblock %}